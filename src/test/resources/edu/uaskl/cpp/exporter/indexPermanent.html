<!DOCTYPE html>
<html>
    <head>
      <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" />
 <!--[if lte IE 8]>
     <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.ie.css" />
 <![endif]-->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>


    </head>
    <body>
       <div id="map" style=" position: absolute;top: 0;left: 0;width: 100%;height: 100%"></div>
       <script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>
       <script src="leaflet.textpath.js"></script>
       <script src="http://beta.mapquestapi.com/sdk/leaflet/v0.1/mq-map.js?key=Fmjtd%7Cluubnu082q%2C8a%3Do5-9u1a06 "></script>
       <script type="text/javascript">
         var map = L.map('map').setView([49.24, 7.36], 13);
         var mapLayer = MQ.mapLayer();
         map.addLayer(mapLayer);
       </script>
       <script src="overlay.js"></script>
       <script type="text/javascript">
         "use strict";
         function createSegment(pointList,index){
             var colors = ['#b1563f','#b4693f','#b67b3f','#b98f3f','#bba33f','#beb83f','#b2c040','#a0c141','#8ec242','#7cc344'];
             console.log(pointList);
             var line = L.polyline(pointList,{weight:3,opacity:1,color:colors[index % colors.length]});
             line.addTo(map);
             line.setText('â–º '+(index+1), {repeat: true,offset: 0,attributes: {fill:'black'}});
             return line;
         };
         function updateInLoop() {
             var i = segments.length;
             var displayedLine = createSegment(segments[0],i);
             return function up(){
                   if((i+1)% segments.lengt < i) {
                       clearInterval(loop);
                   }
                   else {
                   i = (i+1)% segments.length;
                   displayedLine = createSegment(segments[i],i);
                   }
             }
         }
         var update = updateInLoop();
         loop = setInterval(update,50);
       </script
    </body>
</html>
